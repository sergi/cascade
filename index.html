<html ng-app="cascade">
<head>
  <meta charset="utf-8">
  <title>Cascade IRC</title>
  <link rel="stylesheet" type="text/css" href="css/style.css"/>
  <script type="text/javascript" src="js/util.js"></script>
  <script type="text/javascript" src="lib/angular.min.js"></script>
  <script type="text/javascript" src="lib/bindonce.js"></script>
</head>
<body class="cascade" ng-controller="AppController">
<div class="container">
  <div id="channel-main">
    <div ng-repeat="server in servers">
      <div class="server"
           ng-include="'views/view-server.html'"
           ng-show="isFocused()"
           ng-controller="ServerCtrl">
      </div>
      <div id="channel-pane-{{channel.name}}'"
           class="channel-content"
           ng-repeat="channel in server.channels"
           ng-controller="ChanCtrl"
           ng-include src="'views/view-channel.html'"
           ng-show="isCurrentChannel(channel.name, channel.serverAddress)">
      </div>
    </div>
  </div>

  <div class="channel-list">
    <section ng-repeat="server in servers">
      <h3>{{server.address}}</h3>
      <ul>
        <li ng-repeat="channel in server.channels"
            ng-click="switchToChannel(channel.name, channel.serverAddress)"
            ng-class="{selected: channel.name == currentChannel}"
            class="item">&#9679; #{{channel.name}}
        </li>
      </ul>
    </section>
  </div>
</div>

<div class="input-bar">
  <form id="submitForm" ng-controller="InputController">
    <input type="text" ng-model="msg" name="text"/>
    <input type="submit" id="submit" value="Submit"/>
  </form>
</div>

<script src="js/main.js"></script>
</body>
</html>
